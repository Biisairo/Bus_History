# 🚍 버스 정보 수집 시스템 (Bus History System)

Wails v2 프레임워크를 기반으로 한 **경기도 버스 도착 정보 및 잔여 좌석 데이터 수집기**입니다. 공공데이터포털의 API를 활용하여 실시간 데이터를 모니터링하고, 시간에 따른 좌석 변화(승하차 흐름)를 SQLite 데이터베이스에 기록합니다.

---

## ✨ 주요 기능

1.  **실시간 모니터링**: 경기도 버스의 도착 예정 정보 및 현재 잔여 좌석 수를 실시간으로 확인합니다.
2.  **데이터 자동 수집**: 사용자가 등록한 노선과 정류장에 대해 백그라운드에서 주기적으로 데이터를 수집하고 기록합니다.
3.  **승하차 흐름 추적**: 특정 차량의 정류장별 잔여 좌석 변화를 타임라인 형태로 시각화하여 승하차 패턴을 분석할 수 있습니다.
4.  **스마트 수집 설정**:
    *   **시간대 설정**: 출퇴근 시간 등 특정 시간대에만 수집하도록 설정 가능 (예: 07시~10시).
    *   **수집 주기 설정**: ms 단위로 자유로운 주기 설정 (기본 30초).
5.  **보안 및 설정**: API 키 및 데이터 저장 경로를 사용자가 직접 설정할 수 있으며, 설정값은 로컬에 안전하게 저장됩니다.

---

## 🛠 기술 스택

*   **Backend**: Go 1.24+
*   **Framework**: [Wails v2](https://wails.io/)
*   **Database**: SQLite3
*   **Frontend**: Vanilla JavaScript, CSS3, HTML5
*   **External API**: 공공데이터포털 (경기도 버스 서버 기반)

---

## 🚀 시작하기

### 1. 필수 환경 (Prerequisites)

이 프로젝트를 빌드하고 실행하려면 아래 도구들이 설치되어 있어야 합니다.

*   **Go**: 1.24 이상 ([설치 가이드](https://go.dev/doc/install))
*   **Node.js**: 16.x 이상 (npm 포함)
*   **Wails CLI**: `go install github.com/wailsapp/wails/v2/cmd/wails@latest` 실행

### 2. 다운로드 및 설치

프로젝트 폴더로 이동한 후 의존성을 설치합니다.

```bash
# 의존성 정리 및 설치
go mod tidy

# 프론트엔드 의존성 (필요한 경우)
cd frontend
npm install # 현재는 순수 JS/CSS를 사용하여 별도 설치가 필요 없을 수 있습니다.
cd ..
```

### 3. 개발 모드 실행

프레임워크의 핫 리로딩 기능을 사용하여 즉시 실행합니다.

```bash
wails dev
```

### 4. 프로그램 빌드 (Production)

실행 파일(`.exe` 또는 `.app`)을 생성합니다.

```bash
wails build
```
*   빌드 결과물은 `build/bin/` 폴더에 생성됩니다.

---

## 📖 사용 방법

1.  **초기 설정**: 앱 실행 후 첫 화면 혹은 '옵션' 탭에서 **인천/경기 공공데이터 API 키**와 **데이터 저장 경로**를 설정합니다.
2.  **모니터링 등록**:
    *   '수집위치 추가' 메뉴에서 노선 번호(예: 7700) 또는 정류장 이름을 검색합니다.
    *   원하는 노선과 정류장(방향 포함)을 조합하여 '모니터링 시작'을 누릅니다.
3.  **데이터 확인**:
    *   '목록보기'에서 현재 감시 중인 위치를 확인하고, 상활에 따라 토글(ON/OFF)할 수 있습니다.
    *   특정 항목을 클릭하면 하단에 해당 날짜의 **도착 이력 및 좌석 변화**가 상세히 표시됩니다.

---

## 📂 프로젝트 구조

*   `app.go`: 백엔드 로직과 프론트엔드 사이의 통신 브리지 (API 바인딩)
*   `main.go`: Wails 앱 설정 및 엔트리 포인트
*   `frontend/`: 웹 UI 리소스 (HTML, styles.css, app.js)
*   `internal/`: 핵심 비즈니스 로직
    *   `collector/`: 주기적 데이터 수집 엔진
    *   `repository/`: SQLite DB 접근 로직
    *   `service/`: 외부 공공 API 클라이언트
    *   `model/`: 데이터 구조체 정의
    *   `config/`: 앱 설정 관리
